package tick5;

import java.awt.Color;

import javax.swing.JPanel;

public class GamePanel extends JPanel {
	private World mWorld = null;

	@Override
	protected void paintComponent(java.awt.Graphics g) {
		// Paint the background white
		g.setColor(java.awt.Color.WHITE);
		g.fillRect(0, 0, this.getWidth(), this.getHeight());

		// Sample drawing statements
		// g.setColor(Color.BLACK);
		// g.drawRect(200, 200, 30, 30);
		// g.setColor(Color.LIGHT_GRAY);
		// g.fillRect(140, 140, 30, 30);
		// g.fillRect(260, 140, 30, 30);
		// g.setColor(Color.BLACK);
		// g.drawLine(150, 300, 280, 300);
		// g.drawString("@@@", 135, 120);
		// g.drawString("@@@", 255, 120);
		if (mWorld != null) {
			int len = Math.min(this.getHeight() / mWorld.getHeight(), this.getWidth() / mWorld.getWidth());

			g.setColor(Color.BLACK);
			for (int y = 0; y < mWorld.getHeight(); ++y) {
				for (int x = 0; x < mWorld.getWidth(); ++x) {
					if (mWorld.getCell(x, y))
						g.fillRect(len * x, len * y, len, len);
				}
			}

			g.setColor(Color.GRAY);
			for (int x = 0; x <= mWorld.getWidth(); ++x) {
				g.drawLine(len * x, 0, len * x, len * mWorld.getHeight());
			}

			for (int y = 0; y <= mWorld.getHeight(); ++y) {
				g.drawLine(0, len * y, len * mWorld.getWidth(), len * y);
			}
			g.drawString("Generation:" + Integer.toString(mWorld.getGenerationCount()), 0, getHeight() - 100);
		}

	}

	public void display(World w) {
		mWorld = w;
		repaint();
	}
}
